

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>I Ruoli &mdash; Plone: worfklow e sicurezza 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="Plone: worfklow e sicurezza 0.1 documentation" href="index.html" />
    <link rel="prev" title="I Gruppi" href="groups.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Indice generale"
             accesskey="I">indice</a></li>
        <li class="right" >
          <a href="groups.html" title="I Gruppi"
             accesskey="P">precedente</a> |</li>
        <li><a href="index.html">Plone: worfklow e sicurezza 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="i-ruoli">
<h1>I Ruoli<a class="headerlink" href="#i-ruoli" title="link permanente per questa intestazione">¶</a></h1>
<p>La miglior definizione di &#8220;ruolo Plone&#8221; che posso trovare è questa:</p>
<blockquote>
<div>I ruoli sono un accorpamento di <strong>permessi</strong>.
I sono direttamente associabili ai <strong>poteri</strong> di un utente nel sito.</div></blockquote>
<p>Quando assegnate un ruolo ad un utente, state fornendo in realtà una serie di permessi (il vero
motore della sicurezza di Zope).
Come già detto in precedenza, <em>non potete in nessun modo assegnare permessi agli utenti</em> o ai
gruppi, ma potete solo assegnare ruoli.</p>
<p>Questa è una delle prime caratteristiche che fanno assaporare la potenza del sistema sottostante.
Prendiamo ad esempio in ruolo del <strong>Lettore</strong> (che verrà introdotto meglio in seguito).
cosa significhi essere un &#8220;lettore&#8221; non è qualcosa scritto nella roccia; siti diversi (e senza
dover per forza sviluppare del codice) possono differire dalla sua definizione, aumentando o
limitando i poteri (permessi) del ruolo.</p>
<div class="section" id="i-ruoli-predefiniti">
<h2>I ruoli predefiniti<a class="headerlink" href="#i-ruoli-predefiniti" title="link permanente per questa intestazione">¶</a></h2>
<p>Plone (e il framework Zope sottostante) forniscono una serie di ruoli predefiniti il cui
funzionamento è bene approfondire e comprendere.
Il motivo principale è che, sebbene sia possibile creare nuovi ruoli, l&#8217;eventualità di doverlo fare
è meno frequente di quanto si pensi (anche se non da escludere a priori).</p>
<div class="section" id="i-ruoli-forniti-di-zope">
<h3>I ruoli forniti di Zope<a class="headerlink" href="#i-ruoli-forniti-di-zope" title="link permanente per questa intestazione">¶</a></h3>
<div class="figure">
<img alt="I ruoli di Zope" src="_images/zmi-security-zope-roles.png" />
<p class="caption"><em>I quattro ruoli Zope, visti da ZMI</em></p>
</div>
<p>I ruoli forniti da Zope sono quattro e non sono modificabili o eliminabili. Sulla loro presenza si
basa il funzionamento della sicurezza dell&#8217;application server, e quindi di Plone.</p>
<div class="section" id="anonimo-anonymous">
<h4>Anonimo (Anonymous)<a class="headerlink" href="#anonimo-anonymous" title="link permanente per questa intestazione">¶</a></h4>
<p><strong>Anonimo</strong> (<strong>Anonymous</strong>) è il ruolo assegnato agli utenti anonimi.
E&#8217; un ruolo speciale ed ha un comportamento diverso da tutti gli altri ruoli.
Non è infatti possibile definire un permesso accessibile dal ruolo Anonymous ma non da altri ruoli:
un potere dato ad un anonimo è di certo fornito anche a <em>qualunque</em> utente del sito.</p>
<p>Questo può sembrare scontato dal punto di vista logico, ma per gli altri ruoli può non essere così:
con altri ruoli sarebbe possibile disegnare una policy di sicurezza che assegni un permesso ad un
ruolo &#8220;poco importante&#8221; e non darlo ad un ruolo importante (un esempio: dare il permesso di vedere
un contenuto ad un <em>Collaboratore</em> del sito ma non al <em>Manager</em>. Possibile, anche se totalmente
illogico e sconsigliato).</p>
<p>Il ruolo Anonimo è per sua natura associato con il tipo di utente anonimo. Nel disegnare workflow
per i vostri contenuti questo ruolo assume parecchia importanza: un errore nell&#8217;assegnare un
permesso di troppo a questo utente e la sicurezza del vostro sito potrebbe essere compromessa.</p>
</div>
<div class="section" id="autenticato-authenticated">
<h4>Autenticato (Authenticated)<a class="headerlink" href="#autenticato-authenticated" title="link permanente per questa intestazione">¶</a></h4>
<p><strong>Autenticato</strong> (<strong>Authenticated</strong>) è il ruolo automaticamente assegnato ai visitatori del sito
che hanno eseguito un qualunque tipo di autenticazione, anche tramite <a class="reference external" href="http://en.wikipedia.org/wiki/Basic_access_authentication">autenticazione basic</a> via
ZMI.</p>
<p>Un utente con ruolo <em>Autenticato</em> è quindi un utente a livello Zope.</p>
<p>Questo ruolo non è solitamente molto utilizzato nei workflow di Plone preferendovi, per
correttezza, il ruolo di <em>Collaboratore</em>.</p>
</div>
<div class="section" id="manager">
<h4>Manager<a class="headerlink" href="#manager" title="link permanente per questa intestazione">¶</a></h4>
<p>L&#8217;Alpha e l&#8217;Omega dei ruoli. Chi ha ruolo <strong>Manager</strong> ha solitamente potere assoluto nel sito Plone
ed entra senza restrizioni in ZMI.</p>
<p>E&#8217; un ruolo ovviamente pericoloso e non va mai assegnato a sproposito. Come regola generale, se il
vostro utente <em>non ha</em> bisogno di accedere alla ZMI, <em>Manager</em> non è il ruolo migliore da
assegnargli ma va preferito il ruolo di <em>Amministratore del Sito</em>.</p>
<p>E&#8217; lecito avere installazioni di Plone dove esiste un solo utente con questo ruolo: <strong>admin</strong>,
l&#8217;utente predefinito a livello Zope che è di solito il creatore dei siti Plone.</p>
</div>
<div class="section" id="owner">
<h4>Owner<a class="headerlink" href="#owner" title="link permanente per questa intestazione">¶</a></h4>
<p>Il concetto di <strong>Possessore</strong> (<strong>Owner</strong>), per quanto orribilmente tradotto in italiano, nasce a
livello Zope.
Un primo esempio: l&#8217;utente <em>admin</em>, introdotto poco fa, ha di solito il ruolo di <em>Owner</em>
sull&#8216;&#8220;oggetto sito Plone&#8221;.</p>
<p>E&#8217; un ruolo che va ben compreso e di solito deve essere assegnato ad un solo utente, per quanto è
possibile fornirlo a più persone (ciò oggi è fortunatamente più difficile da farsi da interfaccia
Plone, mentre in versioni precedenti del CMS era purtroppo un modo di operare molto comune).</p>
<p>Innanzi tutto: nella maggior parte dei casi è un ruolo che è direttamente associato con il creatore
del contenuto.
Se &#8220;Utente 1&#8221; crea una pagina, esso diventa <em>Possessore</em> della pagina stessa.</p>
<p>Questo si può vedere anche dal campo &#8220;<em>Creatori</em>&#8221; comune a tutti i contenuti Plone, ma non bisogna
farsi trarre in inganno: il valore di questo campo è solo un&#8217;informazione testuale che può essere
facilmente modificata.
Cambiando il valore di &#8220;Creatori&#8221; con un altro utente del sito non assegna il ruolo di <em>Possessore</em>
al nuovo utente specificato.
Il fatto che tale campo sia nell&#8217;insieme dei campi raggruppati sotto la sezione &#8220;<em>Proprietario</em>&#8221;
non fa altro che aumentare la confusione.</p>
<div class="figure">
<img alt="Metadato &quot;Creatori&quot;" src="_images/edit-form-creators.png" />
<p class="caption"><em>La vista del campo &#8220;Creatori&#8221;, nelle informazioni di &#8220;Possessore&#8221;</em></p>
</div>
<p>Le recenti versioni di Plone hanno reso più difficile assegnare questo ruolo a sproposito a più
utenti, eppure è possibile (e lecito) cambiare proprietario di un contenuto.</p>
<p>Esiste una vista speciale, raggiungibile solo conoscendone l&#8217;URL (una particolarità introdotta a
mio parere per errore in Plone 3): <tt class="docutils literal"><span class="pre">ownership_form</span></tt>.
Questa vista va lanciata sul contesto del documento al quale si vuole cambiare proprietario e
permette di modificare l&#8217;utente che ha ruolo di <em>Possessore</em> sul contenuto.</p>
<div class="figure">
<img alt="Vista &quot;change_ownership&quot;" src="_images/change_ownership.png" />
<p class="caption"><em>La vista &#8220;change_ownership&#8221; lanciata su un contesto</em></p>
</div>
<p>Esiste un comodissimo prodotto che permette di manipolare in blocco il ruolo di <em>Possessore</em> e
volendo anche il campo &#8220;Cratori&#8221; per più contenti del sito: <a class="reference external" href="http://plone.org/products/plone.app.changeownership">plone.app.changeownership</a>.</p>
<p>Quanto è importante il ruolo <em>Possessore</em>?
Dipende.</p>
<p>Nel momento della creazione di un contenuto questo ruolo ha di certo importanza, perché è ovvio che
la persona che sta salvando per la prima volta il documento deve avere i poteri di modifica.
Nel seguito invece la sua importanza dipende dal contesto.</p>
<p>Se state realizzando la sicurezza di un tipo di contenuto dove, per sua natura, il creatore è
importante (ad esempio: il contenuto rappresenta la prenotazione di un&#8217;auto aziendale) allora
il creatore continua ad avere una grande importanza per tutto il ciclo di vita del contenuto.</p>
<p>Se i poteri che un utente deve avere su un contenuto dipendono dal suo stato o dalla sua
appartenenza ad un gruppo allora il <em>dato</em> relativo al creatore può avere la sua importanza, ma la
persona che ha creato il contenuto no.</p>
<p>Un esempio: l&#8217;Utente 1 ha scritto un documento mentre lavorava per l&#8217;Ufficio 5. Poco importa chi
ha creato il documento, ma dopo la sua creazione l&#8217;utente non deve avere permessi particolari sul
contenuto, o di certo non deve continuare a mantenerli se in futuro lascerà l&#8217;Ufficio 5.</p>
<div class="admonition warning">
<p class="first admonition-title">Avvertimento</p>
<p class="last">Anche in questo caso i workflow base di Plone non sono ottimali</p>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/plone.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Tabella dei contenuti</a></h3>
  <ul>
<li><a class="reference internal" href="#">I Ruoli</a><ul>
<li><a class="reference internal" href="#i-ruoli-predefiniti">I ruoli predefiniti</a><ul>
<li><a class="reference internal" href="#i-ruoli-forniti-di-zope">I ruoli forniti di Zope</a><ul>
<li><a class="reference internal" href="#anonimo-anonymous">Anonimo (Anonymous)</a></li>
<li><a class="reference internal" href="#autenticato-authenticated">Autenticato (Authenticated)</a></li>
<li><a class="reference internal" href="#manager">Manager</a></li>
<li><a class="reference internal" href="#owner">Owner</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Argomento precedente</h4>
  <p class="topless"><a href="groups.html"
                        title="capitolo precedente">I Gruppi</a></p>
  <h3>Questa pagina</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/roles.txt"
           rel="nofollow">Mostra sorgente</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Ricerca veloce</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Vai" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Inserisci un termine di ricerca un modulo, classe o nome di funzione
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Indice generale"
             >indice</a></li>
        <li class="right" >
          <a href="groups.html" title="I Gruppi"
             >precedente</a> |</li>
        <li><a href="index.html">Plone: worfklow e sicurezza 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Luca Fabbri (keul).
      Creato con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>